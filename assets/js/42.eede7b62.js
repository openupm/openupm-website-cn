(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{1117:function(t,e,a){"use strict";a.r(e);var s=a(30),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"getting-started-with-openupm-cli"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getting-started-with-openupm-cli"}},[t._v("#")]),t._v(" Getting Started with OpenUPM-CLI")]),t._v(" "),s("p",[t._v("The article is a step-by-step tutorial for how to install openupm-cli and manipulate the package manifest file in the terminal. It can work with various shells:")]),t._v(" "),s("ul",[s("li",[t._v("Bash for Mac/Linux")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://gitforwindows.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git-Bash"),s("OutboundLink")],1),t._v(", CMD, or PowerShell for Windows.")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("Not a fan of command-line tool?")]),t._v(" "),s("p",[t._v("If you are unfamiliar with the command-line, you can still use other installation options available on the package page.")])]),t._v(" "),s("h2",{attrs:{id:"installing-openupm-cli"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installing-openupm-cli"}},[t._v("#")]),t._v(" Installing OpenUPM-CLI")]),t._v(" "),s("p",[t._v("OpenUPM-CLI requires "),s("a",{attrs:{href:"https://nodejs.org/en/download/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js 14.18 or above"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("Let's verify the Node.js installation by printing the npm version (the node package manager where UPM is inspired from).")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" -v\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.13")]),t._v(".4\n")])])]),s("p",[t._v("It is recommended to install the openupm-cli globally, so you can use it from any path.")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g openupm-cli\nC:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Users"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("openupm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("AppData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Roaming"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("npm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("openupm -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" C:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Users"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("openupm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("AppData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Roaming"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("npm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("node_modules"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("openupm-cli"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("bin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("openupm + openupm-cli@1.1.0\nupdated "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" packages "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(".177s\n")])])]),s("p",[t._v("Let's verify the openupm-cli installation by printing the version.")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("$ openupm --version\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),t._v(".0\n")])])]),s("h2",{attrs:{id:"installing-a-upm-package"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installing-a-upm-package"}},[t._v("#")]),t._v(" Installing a UPM Package")]),t._v(" "),s("p",[t._v("The next step is creating a new Unity project, located at path "),s("code",[t._v("~/Document/projects/hello-openupm")]),t._v(".")]),t._v(" "),s("p",[t._v("Let's install "),s("a",{attrs:{href:"https://github.com/favoyang/unity-addressable-importer",target:"_blank",rel:"noopener noreferrer"}},[t._v("Unity Addressable Importer"),s("OutboundLink")],1),t._v(" a helper package to manage addressable assets. First you need identify the package name.")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# go to the unity project folder")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ~/Document/projects/hello-openupm\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# search package by keyword")]),t._v("\n$ openupm search addressable\nfast search endpoint is not available, using old search.\n┌───────────────────────────────────────┬─────────┬───────────┬────────────┐\n│ Name                                  │ Version │ Author    │ Date       │\n├───────────────────────────────────────┼─────────┼───────────┼────────────┤\n│ com.littlebigfun.addressable-importer │ "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.4")]),t._v(".1   │ Favo Yang │ "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2019")]),t._v("-12-10 │\n│ Unity Addressable Importer            │         │           │            │\n└───────────────────────────────────────┴─────────┴───────────┴────────────┘\n")])])]),s("p",[t._v("It returns the package name "),s("code",[t._v("com.littlebigfun.addressable-importer")]),t._v(".")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("You can directly copy the "),s("em",[t._v("install command")]),t._v(" from the "),s("a",{attrs:{href:"/packages/com.littlebigfun.addressable-importer"}},[t._v("package detail page")]),t._v(" of the openupm website.")])]),t._v(" "),s("p",[t._v("Let's install the package via the "),s("code",[t._v("add")]),t._v(" command.")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("$ openupm "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" com.littlebigfun.addressable-importer\nadded: com.littlebigfun.addressable-importer@0.4.1\nmanifest updated, please "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),t._v(" unity project to apply changes\n")])])]),s("p",[t._v("It returns that the package version 0.4.1 was added to the manifest file.")]),t._v(" "),s("p",[t._v("Go back to Unity editor, wait for the package manager to resolve package changes. Then you shall see the "),s("code",[t._v("com.littlebigfun.addressable-importer")]),t._v(" appears in the package manager window.")]),t._v(" "),s("p",[s("img",{attrs:{src:a(821),alt:"Install package"}})]),t._v(" "),s("p",[t._v("Notice that the dependency "),s("code",[t._v("Addressbles")]),t._v(" is also installed, but not shown in the "),s("code",[t._v("In Project")]),t._v(" list. Because it's not the direct dependency of the project yet. If you want to use the latest version, you shall find it in the "),s("code",[t._v("All packages")]),t._v(" list to upgrade the version. Or you can use openupm-cli to install the latest version.")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("$ openupm "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" com.unity.addressables\nadded: com.unity.addressables@1.5.0\nmanifest updated, please "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),t._v(" unity project to apply changes\n")])])]),s("p",[t._v("Go back to the Unity editor, wait for the package manager to resolve package changes. Then you shall see the latest version of "),s("code",[t._v("Addressables")]),t._v(" appears in the package manager window.")]),t._v(" "),s("p",[s("img",{attrs:{src:a(822),alt:"Upgrade package"}})]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("Notice")]),t._v(" "),s("p",[t._v("As of December 2019, the openupm-cli only resolves package dependencies, to add necessary dependencies and scope information to the manifest file. It won't directly download the tarballs.")])]),t._v(" "),s("h2",{attrs:{id:"understanding-manifest-changes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#understanding-manifest-changes"}},[t._v("#")]),t._v(" Understanding Manifest Changes")]),t._v(" "),s("p",[t._v("To understand the underlying changes of the manifest file, let's print the JSON content.")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("$ cat Packages/manifest.json\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dependencies"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ...\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"com.littlebigfun.addressable-importer"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.4.1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"com.unity.addressables"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.5.0"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scopedRegistries"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"package.openupm.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://package.openupm.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scopes"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.littlebigfun.addressable-importer"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.openupm"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("The openupm-cli adds both "),s("code",[t._v("com.littlebigfun.addressable-importer")]),t._v(" and "),s("code",[t._v("com.unity.addressables")]),t._v(" to dependencies. It also modified the scopedRegistries to link the "),s("code",[t._v("com.littlebigfun.addressable-importer")]),t._v(" namespace with the openupm registry.")]),t._v(" "),s("p",[t._v("Please visit the "),s("a",{attrs:{href:"https://github.com/openupm/openupm-cli#openupm-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("openupm-cli readme"),s("OutboundLink")],1),t._v(" for more usages.")])])}),[],!1,null,null,null);e.default=n.exports},821:function(t,e,a){t.exports=a.p+"assets/img/getting-started-install-package.e7b86b7e.png"},822:function(t,e,a){t.exports=a.p+"assets/img/getting-started-upgrade-package.4d5b91ea.png"}}]);